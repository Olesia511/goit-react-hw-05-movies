"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[408],{408:function(e,t,r){r.r(t);var n=r(861),s=r(439),a=r(687),c=r.n(a),i=r(788),o=r(791),u=r(87),l=r(689),h=r(356),p=r(673),v=r(547),d=r(184);t.default=function(){var e,t=(0,o.useState)({}),r=(0,s.Z)(t,2),a=r[0],f=r[1],x=(0,o.useState)(!1),m=(0,s.Z)(x,2),g=m[0],j=m[1],y=(0,o.useState)(!1),k=(0,s.Z)(y,2),w=k[0],Z=k[1],_=(0,u.lr)(),b=(0,s.Z)(_,2),C=b[0],S=b[1],q=null!==(e=C.get("query"))&&void 0!==e?e:"",D=(0,l.TH)(),N=function(){var e=(0,n.Z)(c().mark((function e(){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,Z(!1),e.next=5,(0,i.E3)(q);case 5:t=e.sent,r=t.results,f(r),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.log("Catch error message",e.t0.message),Z(!0);case 14:return e.prev=14,j(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,10,14,17]])})));return function(){return e.apply(this,arguments)}}();function A(e){var t=(0,p.Z)(e);return(0,v.Z)(t,"yyyy")}return(0,d.jsxs)("div",{children:[g&&(0,d.jsx)("h2",{children:"LOADING......"}),w&&(0,d.jsxs)("h2",{children:["Sorry. Not found. ",w.message]}),(0,d.jsx)("input",{type:"text",value:q,onChange:function(e){return t=e.target.value,C.set("query",t),void S(C);var t},placeholder:"Movie title"}),(0,d.jsx)("button",{type:"submit",onClick:function(e){e.preventDefault(),""!==q&&N()},children:"Search"}),(0,d.jsx)("ul",{children:a.length>0&&a.map((function(e){var t=e.id,r=e.title,n=e.vote_average,s=e.release_date,a=e.poster_path,c=e.overview;return(0,d.jsx)("li",{children:(0,d.jsxs)(u.rU,{to:"/movies/".concat(t),state:{from:D},children:[r&&(0,d.jsxs)("h3",{children:[r," ",A(s)]}),n>0&&(0,d.jsxs)("p",{children:["Vote average: ",n.toFixed(2)]}),a?(0,d.jsx)("img",{src:"https://image.tmdb.org/t/p/w500/".concat(a),alt:r}):(0,d.jsx)("img",{src:h,alt:r}),c&&(0,d.jsx)("p",{children:c})]})},t)}))})]})}}}]);
//# sourceMappingURL=408.14e08836.chunk.js.map